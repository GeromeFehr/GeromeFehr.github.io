<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Feedback – Lernstation Grafikkarte</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Feedback – Lernstation Grafikkarte</h1>
    <nav>
      <a href="index.html">Startseite</a>
      <a href="grundlagen.html">Grundlagen</a>
      <a href="kennzahlen.html">Kennzahlen</a>
      <a href="aufbau.html">Aufbau</a>
      <a href="quiz.html">Quiz</a>
      <a href="feedback.html">Feedback</a>
    </nav>
  </header>

  <main>
    <section class="card">
      <span class="badge">Feedback</span>
      <h2>Übersicht der gespeicherten Bewertungen</h2>
      <p>
        Hier werden alle Bewertungen angezeigt, die auf diesem Gerät im Browser
        gespeichert wurden. Die Daten stammen aus dem LocalStorage und sind
        <b>nicht</b> online sichtbar, sondern nur lokal.
      </p>

      <div id="feedback-content">
        <p><b>Anzahl Bewertungen:</b> <span id="rating-count">0</span></p>
        <p><b>Durchschnittliche Bewertung:</b> <span id="rating-average">-</span></p>

        <h3>Alle gespeicherten Bewertungen:</h3>
        <ul id="rating-list"></ul>
      </div>

      <div class="highlight">
        <b>Hinweis:</b> Wenn du den Browsercache oder die Website-Daten löschst,
        werden auch die gespeicherten Bewertungen entfernt, da sie nur lokal im
        LocalStorage liegen.
      </div>
    </section>
  </main>

  <footer>
    Lernzirkel LF02 – Hardwarekomponenten · Komponente: Grafikkarte von Gérôme Fehr & Hüseyin Özdemir
  </footer>

  <script>
    const ratings = JSON.parse(localStorage.getItem("gpu_lernstation_ratings") || "[]");
    const countSpan = document.getElementById("rating-count");
    const avgSpan = document.getElementById("rating-average");
    const list = document.getElementById("rating-list");

    if (ratings.length === 0) {
      countSpan.textContent = "0";
      avgSpan.textContent = "-";
      list.innerHTML = "<li>Noch keine Bewertungen vorhanden.</li>";
    } else {
      countSpan.textContent = ratings.length.toString();
      const sum = ratings.reduce((a, b) => a + b, 0);
      const avg = sum / ratings.length;
      avgSpan.textContent = avg.toFixed(2) + " ⭐";

      ratings.forEach((r, idx) => {
        const li = document.createElement("li");
        li.textContent = `Bewertung ${idx + 1}: ${r} ⭐`;
        list.appendChild(li);
      });
    }
  </script>
</body>
</html>
